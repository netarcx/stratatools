; PlatformIO Project Configuration File
; Multi-Platform 1-Wire Bridge for Stratasys Cartridge Programmer
;
; Supported platforms:
;   - ESP32 (original)
;   - ESP32-C3 (RISC-V)
;   - ESP8266
;
; Usage:
;   pio run -e esp32       # Build for ESP32
;   pio run -e esp32c3     # Build for ESP32-C3
;   pio run -e esp8266     # Build for ESP8266
;
;   pio run -e esp32 --target upload --upload-port /dev/ttyUSB0

[platformio]
default_envs = esp32

; Common settings for all environments
[env]
framework = arduino
monitor_speed = 115200
monitor_filters = direct
lib_deps =
    paulstoffregen/OneWire@^2.3.7

; ESP32 (Original - Xtensa LX6)
[env:esp32]
platform = espressif32
board = esp32dev
upload_speed = 460800
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DBOARD_NAME=\"ESP32\"
    -DONEWIRE_PIN=4

; ESP32-C3 (RISC-V)
[env:esp32c3]
platform = espressif32
board = esp32-c3-devkitm-1
upload_speed = 460800
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DBOARD_NAME=\"ESP32-C3\"
    -DONEWIRE_PIN=4

; ESP8266 (Xtensa LX106)
[env:esp8266]
platform = espressif8266
board = nodemcuv2
upload_speed = 115200
build_flags =
    -DBOARD_NAME=\"ESP8266\"
    -DONEWIRE_PIN=D2
    -DVTABLES_IN_FLASH
