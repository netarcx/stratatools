; PlatformIO Project Configuration
; Standalone Cartridge Auto-Refill Device
;
; This device automatically refills Stratasys cartridges when inserted
; No computer needed - fully autonomous operation
;
; Hardware:
;   - ESP32 or ESP8266
;   - DS2433/DS2432 EEPROM (cartridge)
;   - 4.7k pull-up resistor
;   - LED (optional - shows status)
;   - Button (optional - force refill)
;   - OLED display (optional - shows info)

[platformio]
default_envs = esp32

[env]
framework = arduino
monitor_speed = 115200
lib_deps =
    paulstoffregen/OneWire@^2.3.7
    nanopb/Nanopb@^0.4.7

; ESP32 Version
[env:esp32]
platform = espressif32
board = esp32dev
upload_speed = 460800
build_flags =
    -DBOARD_ESP32
    -DONEWIRE_PIN=4
    -DSTATUS_LED=2
    -DBUTTON_PIN=0
    -DAUTO_REFILL_THRESHOLD=10.0

; ESP8266 Version
[env:esp8266]
platform = espressif8266
board = nodemcuv2
upload_speed = 115200
build_flags =
    -DBOARD_ESP8266
    -DONEWIRE_PIN=D2
    -DSTATUS_LED=D4
    -DBUTTON_PIN=D3
    -DAUTO_REFILL_THRESHOLD=10.0
